{"version":3,"file":"libertyware-ngx-form-gen.js","sources":["ng://@libertyware/ngx-form-gen/form-gen.component.ts","ng://@libertyware/ngx-form-gen/widgets/field.ts","ng://@libertyware/ngx-form-gen/renderer/root-widget.component.ts","ng://@libertyware/ngx-form-gen/form-gen.module.ts","ng://@libertyware/ngx-form-gen/libertyware-ngx-form-gen.ts"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\nimport {\n  FormGroupDirective\n} from '@angular/forms';\nimport { DynamicFormGroup } from '@libertyware/ngx-form-builder';\nimport { WidgetOptions } from '@libertyware/ngx-form-core';\nimport { FieldWidget } from './widgets/field';\n\n@Component({\n  // tslint:disable-next-line: component-selector\n  selector: 'libertyware-form-gen',\n  templateUrl: 'form-gen.component.html'\n})\nexport class FormGenComponent implements OnInit {\n  group!: DynamicFormGroup<any>;\n\n  @Input() widgets: { [key: string]: FieldWidget } = {};\n\n  constructor(private groupDirective: FormGroupDirective) {}\n\n  ngOnInit() {\n    this.group = this.groupDirective.form as DynamicFormGroup<any>;\n  }\n\n  renderExists(option: WidgetOptions): boolean {\n    const exists = this.widgets[option.fieldType] !== undefined;\n    if (!exists) {\n      console.log(`Field: ${option.fieldName} with render type ${option.fieldType} has no supported render`);\n    }\n    return exists;\n  }\n\n  onSubmit() {\n    this.group.validateAllFormFields();\n  }\n}\n","import { Input, Optional, SkipSelf, Host, OnInit } from '@angular/core';\nimport { DynamicFormGroup, DynamicFormControl } from '@libertyware/ngx-form-builder';\nimport { FormGroupDirective } from '@angular/forms';\n\nexport abstract class FieldWidget implements OnInit {\n  @Input() fieldName!: string;\n\n  public group!: DynamicFormGroup<any>;\n\n  constructor(@Optional() @SkipSelf() @Host() private groupDirective: FormGroupDirective) {}\n\n  ngOnInit() {\n    this.group = this.groupDirective.form as DynamicFormGroup<any>;\n  }\n\n  get hintText(): string {\n    return this.formControl.hint;\n  }\n\n  get formControl(): DynamicFormControl {\n    return this.group.get(this.fieldName) as DynamicFormControl;\n  }\n}\n","import {\n  Component,\n  OnInit,\n  ViewChild,\n  ViewContainerRef,\n  ComponentFactoryResolver,\n  Input,\n  ComponentFactory,\n  ComponentRef\n} from '@angular/core';\nimport { WidgetOptions } from '@libertyware/ngx-form-core';\nimport { RenderOptions } from '../models/render-options';\n\n@Component({\n  // tslint:disable-next-line: component-selector\n  selector: 'libertyware-root-widget',\n  template: `\n    <ng-container #container></ng-container>\n  `\n})\n// tslint:disable-next-line: component-class-suffix\nexport class RootWidget implements OnInit {\n  @ViewChild('container', { read: ViewContainerRef, static: true })\n  container!: ViewContainerRef;\n\n  @Input() fieldOptions!: WidgetOptions;\n  @Input() renderOptions!: RenderOptions;\n\n  constructor(private resolver: ComponentFactoryResolver) {}\n\n  ngOnInit() {\n    this.container.clear();\n    const cmp = this.getRenderOption(this.fieldOptions.fieldType);\n    if (cmp) {\n      const factory: ComponentFactory<any> = this.resolver.resolveComponentFactory(cmp);\n      const componentRef: ComponentRef<any> = this.container.createComponent(factory);\n      componentRef.instance.fieldName = this.fieldOptions.fieldName;\n    } else {\n      throw new Error('No render support');\n    }\n  }\n\n  private getRenderOption(typeName: string): any {\n    return this.renderOptions[typeName];\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\n\nimport { FormGenComponent } from './form-gen.component';\nimport { RootWidget } from './renderer/root-widget.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    FormsModule\n  ],\n  exports: [FormGenComponent, RootWidget],\n  declarations: [FormGenComponent, RootWidget],\n  providers: []\n})\nexport class FormGenModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {RootWidget as Éµa} from './renderer/root-widget.component';"],"names":["tslib_1.__decorate","tslib_1.__param"],"mappings":"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"}