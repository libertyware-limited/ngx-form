{"version":3,"file":"libertyware-ngx-form-gen.js","sources":["ng://@libertyware/ngx-form-gen/form-gen.component.ts","ng://@libertyware/ngx-form-gen/widgets/field.ts","ng://@libertyware/ngx-form-gen/renderer/root-widget.component.ts","ng://@libertyware/ngx-form-gen/form-gen.module.ts","ng://@libertyware/ngx-form-gen/libertyware-ngx-form-gen.ts"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\nimport {\n  FormGroupDirective\n} from '@angular/forms';\nimport { DynamicFormGroup } from '@libertyware/ngx-form-builder';\nimport { WidgetOptions } from '@libertyware/ngx-form-core';\nimport { FieldWidget } from './widgets/field';\n\n@Component({\n  // tslint:disable-next-line: component-selector\n  selector: 'libertyware-form-gen',\n  templateUrl: 'form-gen.component.html'\n})\nexport class FormGenComponent implements OnInit {\n  group!: DynamicFormGroup<any>;\n\n  @Input() widgets: { [key: string]: FieldWidget } = {};\n\n  constructor(private groupDirective: FormGroupDirective) {}\n\n  ngOnInit() {\n    this.group = this.groupDirective.form as DynamicFormGroup<any>;\n  }\n\n  renderExists(option: WidgetOptions): boolean {\n    const exists = this.widgets[option.fieldType] !== undefined;\n    if (!exists) {\n      console.log(`Field: ${option.fieldName} with render type ${option.fieldType} has no supported render`);\n    }\n    return exists;\n  }\n\n  onSubmit() {\n    this.group.validateAllFormFields();\n  }\n}\n","import { Input, Optional, SkipSelf, Host, OnInit } from '@angular/core';\nimport { DynamicFormGroup, DynamicFormControl } from '@libertyware/ngx-form-builder';\nimport { FormGroupDirective } from '@angular/forms';\n\nexport abstract class FieldWidget implements OnInit {\n  @Input() fieldName!: string;\n\n  public group!: DynamicFormGroup<any>;\n\n  constructor(@Optional() @SkipSelf() @Host() private groupDirective: FormGroupDirective) {}\n\n  ngOnInit() {\n    this.group = this.groupDirective.form as DynamicFormGroup<any>;\n  }\n\n  get hintText(): string {\n    return this.formControl.hint;\n  }\n\n  get formControl(): DynamicFormControl {\n    return this.group.get(this.fieldName) as DynamicFormControl;\n  }\n}\n","import {\n  Component,\n  OnInit,\n  ViewChild,\n  ViewContainerRef,\n  ComponentFactoryResolver,\n  Input,\n  ComponentFactory,\n  ComponentRef\n} from '@angular/core';\nimport { WidgetOptions } from '@libertyware/ngx-form-core';\nimport { RenderOptions } from '../models/render-options';\n\n@Component({\n  // tslint:disable-next-line: component-selector\n  selector: 'libertyware-root-widget',\n  template: `\n    <ng-container #container></ng-container>\n  `\n})\n// tslint:disable-next-line: component-class-suffix\nexport class RootWidget implements OnInit {\n  @ViewChild('container', { read: ViewContainerRef, static: true })\n  container!: ViewContainerRef;\n\n  @Input() fieldOptions!: WidgetOptions;\n  @Input() renderOptions!: RenderOptions;\n\n  constructor(private resolver: ComponentFactoryResolver) {}\n\n  ngOnInit() {\n    this.container.clear();\n    const cmp = this.getRenderOption(this.fieldOptions.fieldType);\n    if (cmp) {\n      const factory: ComponentFactory<any> = this.resolver.resolveComponentFactory(cmp);\n      const componentRef: ComponentRef<any> = this.container.createComponent(factory);\n      componentRef.instance.fieldName = this.fieldOptions.fieldName;\n    } else {\n      throw new Error('No render support');\n    }\n  }\n\n  private getRenderOption(typeName: string): any {\n    return this.renderOptions[typeName];\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\n\nimport { FormGenComponent } from './form-gen.component';\nimport { RootWidget } from './renderer/root-widget.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    FormsModule\n  ],\n  exports: [FormGenComponent, RootWidget],\n  declarations: [FormGenComponent, RootWidget],\n  providers: []\n})\nexport class FormGenModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {RootWidget as Éµa} from './renderer/root-widget.component';"],"names":["tslib_1.__decorate","tslib_1.__param"],"mappings":"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"}